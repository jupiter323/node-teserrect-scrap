var Tesseract = require('tesseract.js')
var base64Img = require('base64-img');
var base64 = "data:image/png;base64, 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"
var filename;
base64Img.img(base64, 'dest', '1', function (err, filepath) {
    console.log(filepath)
    filename = filepath;

    // filename = 'pic.png';

    Tesseract.recognize(filename)
        .progress(function (p) { console.log('progress', p) })
        .catch(err => console.error(err))
        .then(function (result) {
            console.log(result.text)
            process.exit(0)
        })
});

